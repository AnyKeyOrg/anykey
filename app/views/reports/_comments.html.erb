<hr class="spacer">
<div class="flexbox horizontal end wrap-reverse justify-space-between">
  <div class="report-item flush-top flexbox vertical stretch flex-1">
    <div class="item-title large flexbox horizontal center">
      <span class="icon">&#xf27a;</span> Comments <%= @report.comments.present? ? "(#{@report.comments.size})" : '' %>
    </div>
    <div class="comment-list">
      <%= render(partial: "comments/row", collection: @report.comments, as: :comment) %>
    </div>
    <div class="flexbox horizontal start">
      <!-- TODO: put image back -->
      <form action="<%= comments_path %>" id="comment_box" method="POST" enctype="multipart/form-data" class="flexbox vertical end flex-1">
        <div style="display:none">
          <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
          <input type="hidden" id="comment_commentable_id" name="comment[commentable_id]" value="<%= @report.id %>">
          <input type="hidden" id="comment_commentable_type" name="comment[commentable_type]" value="Report">
        </div>
        <div class="item short-bottom flexbox vertical stretch">
          <textarea id="comment_body" name="comment[body]" class="text-field" type="text" autocomplete="off" placeholder="Add a comment"></textarea>
        </div>
        <div class="comment-buttons flexbox horizontal center wrap">
          <input id="comment_submit" type="submit" class="button" value="Comment">
        </div>
      </form>
    </div>
  </div>
</div>
